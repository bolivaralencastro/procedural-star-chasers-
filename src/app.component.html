<div class="relative w-screen h-screen bg-black">
  <app-star-chasers 
    (toggleFullscreenRequest)="toggleFullscreen()"
    [isFullscreen]="isFullscreen()">
  </app-star-chasers>

  <!-- Central Clock and Date -->
  <app-particle-clock 
    [time]="formattedTime()" 
    [date]="formattedDate()">
  </app-particle-clock>

  <!-- Controls (Wake Lock + About) -->
  @if (isMobile()) {
    <div class="absolute top-4 right-4 flex items-center gap-2 pointer-events-auto">
      <!-- About Button -->
      <button
        type="button"
        (click)="openAbout()"
        class="flex items-center justify-center w-10 h-10 rounded-full bg-gray-800/60 backdrop-blur-sm border border-gray-600 hover:bg-gray-700/80 transition-colors"
        title="About"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="16" x2="12" y2="12"></line>
          <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
      </button>
      <!-- Wake Lock Button -->
      <button
        type="button"
        (click)="toggleWakeLock()"
        class="flex items-center justify-center w-10 h-10 rounded-full bg-gray-800/60 backdrop-blur-sm border border-gray-600 hover:bg-gray-700/80 transition-colors"
        [class.text-yellow-400]="isWakeLockEnabled()"
        [class.text-gray-400]="!isWakeLockEnabled()"
        title="Toggle screen wake lock">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 6V4a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2"></path>
          <path d="M12 18v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2"></path>
          <path d="M6 12H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2"></path>
          <path d="M18 12h2a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-2"></path>
          <circle cx="12" cy="12" r="3"></circle>
        </svg>
      </button>
    </div>
  } @else {
    <div class="absolute top-4 right-4 flex items-center gap-2 pointer-events-auto">
      <!-- About Button (Desktop) -->
      <button
        type="button"
        (click)="openAbout()"
        class="px-4 py-2 rounded-lg bg-gray-800/60 backdrop-blur-sm border border-gray-600 hover:bg-gray-700/80 transition-colors text-sm font-medium flex items-center gap-2"
        title="About">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="16" x2="12" y2="12"></line>
          <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
        About
      </button>
    </div>
  }

  <!-- About Dialog -->
  <app-about-dialog #aboutDialog></app-about-dialog>
</div>
